<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´€ë¦¬ì í˜ì´ì§€ - ì˜¤ë§ˆì¹´ì„¸ë¯¸ë£¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .tab-btn.active {
            border-bottom-color: #16a34a;
            color: #16a34a;
            background-color: #f0fdf4;
        }
        .tab-content.hidden {
            display: none;
        }
        .admin-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        .admin-content {
            filter: blur(10px);
            pointer-events: none;
        }
        #googleLoginBtn svg,
        #googleLoginBtn svg * {
            pointer-events: none;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Firebase Authentication Modal -->
    <div id="authOverlay" class="admin-overlay hidden">
        <div class="bg-white rounded-lg shadow-2xl p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-black text-gray-800 mb-2">ğŸ”’ ê´€ë¦¬ì ì¸ì¦</h2>
                <p class="text-sm text-gray-600">êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”</p>
            </div>

            <div id="loginSection">
                <button id="googleLoginBtn" type="button"
                        class="w-full bg-white border-2 border-gray-300 text-gray-700 font-bold py-3 px-4 rounded-lg hover:bg-gray-50 transition flex items-center justify-center gap-3">
                    <svg width="20" height="20" viewBox="0 0 20 20">
                        <path fill="#4285F4" d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z"/>
                        <path fill="#34A853" d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z"/>
                        <path fill="#FBBC05" d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z"/>
                        <path fill="#EA4335" d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z"/>
                    </svg>
                    Googleë¡œ ë¡œê·¸ì¸
                </button>

                <p id="authError" class="text-red-600 text-sm mt-4 hidden text-center"></p>
            </div>

            <div id="loadingSection" class="hidden text-center py-4">
                <div class="inline-block animate-spin rounded-full h-8 w-8 border-4 border-green-500 border-t-transparent"></div>
                <p class="mt-2 text-gray-600 text-sm">ë¡œê·¸ì¸ ì¤‘...</p>
            </div>

            <a href="/" class="block text-center text-sm text-gray-500 hover:text-gray-700 mt-6">
                â† ë©”ì¸ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°
            </a>
        </div>
    </div>

    <div id="mainContent" class="admin-content">
    <!-- Header -->
    <header class="bg-gradient-to-r from-green-600 to-emerald-700 text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <a href="/" class="flex items-center hover:opacity-80 transition">
                    <span class="text-2xl md:text-3xl font-black">âš½ ì˜¤ë§ˆì¹´ì„¸ë¯¸ë£¨ - ê´€ë¦¬ì</span>
                </a>
                <div class="flex gap-4 items-center">
                    <span id="userEmail" class="text-sm hidden"></span>
                    <button id="logoutBtn" class="bg-red-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-600 transition hidden">
                        ë¡œê·¸ì•„ì›ƒ
                    </button>
                    <a href="/" class="bg-white text-green-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition">
                        â† ë©”ì¸ìœ¼ë¡œ
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Tab Navigation -->
        <section class="bg-white rounded-lg shadow-md mb-8">
            <div class="flex border-b">
                <button id="tab-products" class="tab-btn active flex-1 px-6 py-4 font-bold text-lg hover:bg-gray-50 transition border-b-4 border-green-600">
                    ğŸ“¦ ì œí’ˆ ê´€ë¦¬
                </button>
                <button id="tab-offers" class="tab-btn flex-1 px-6 py-4 font-bold text-lg hover:bg-gray-50 transition border-b-4 border-transparent">
                    ğŸª íŒë§¤ì²˜ ê´€ë¦¬
                </button>
                <button id="tab-blackfriday" class="tab-btn flex-1 px-6 py-4 font-bold text-lg hover:bg-gray-50 transition border-b-4 border-transparent">
                    ğŸ”¥ ë¸”í”„ ì‚¬ì´íŠ¸
                </button>
                <button id="tab-account" class="tab-btn flex-1 px-6 py-4 font-bold text-lg hover:bg-gray-50 transition border-b-4 border-transparent">
                    ğŸ‘¤ ê³„ì • ê´€ë¦¬
                </button>
            </div>
        </section>

        <!-- Tab Content: ì œí’ˆ ê´€ë¦¬ -->
        <div id="content-products" class="tab-content">
            <!-- Product Management Section -->
            <section class="bg-white rounded-lg shadow-md p-6 mb-8">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">â• ìƒˆ ì œí’ˆ ì¶”ê°€</h2>

                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">íŒ€ ì´ë¦„ *</label>
                        <input type="text" id="newProductTeam"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                               placeholder="ì˜ˆ: ë§¨ì²´ìŠ¤í„° ìœ ë‚˜ì´í‹°ë“œ">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">í‚¤íŠ¸ ìœ í˜• *</label>
                        <select id="newProductKitType" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            <option value="í™ˆí‚·">í™ˆí‚·</option>
                            <option value="ì–´ì›¨ì´í‚·">ì–´ì›¨ì´í‚·</option>
                            <option value="ì¨ë“œí‚·">ì¨ë“œí‚·</option>
                            <option value="íŠ¸ë ˆì´ë‹">íŠ¸ë ˆì´ë‹</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ì‹œì¦Œ *</label>
                        <select id="newProductSeason" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            <option value="25/26">25/26</option>
                            <option value="24/25">24/25</option>
                            <option value="23/24">23/24</option>
                            <option value="22/23">22/23</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ë²„ì „ *</label>
                        <select id="newProductVersion" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            <option value="ë ˆí”Œë¦¬ì¹´">ë ˆí”Œë¦¬ì¹´ (íŒ¬ ë²„ì „)</option>
                            <option value="ì–´ì„¼í‹±">ì–´ì„¼í‹± (ì„ ìˆ˜ ë²„ì „)</option>
                        </select>
                    </div>

                    <div class="md:col-span-2">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ì œí’ˆëª… *</label>
                        <input type="text" id="newProductName"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                               placeholder="ì˜ˆ: ë§¨ì²´ìŠ¤í„° ìœ ë‚˜ì´í‹°ë“œ 2024 2025 í™ˆ ìœ ë‹ˆí¼ (ë ˆí”Œë¦¬ì¹´)">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ëª¨ë¸ ì½”ë“œ *</label>
                        <input type="text" id="newProductModelCode"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                               placeholder="ì˜ˆ: JI7428">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ì´ë¯¸ì§€ URL *</label>
                        <input type="url" id="newProductImage"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                               placeholder="https://example.com/image.jpg">
                    </div>
                </div>

                <button id="addProductBtn"
                        class="mt-6 w-full bg-green-600 text-white font-bold py-3 rounded-lg hover:bg-green-700 transition">
                    ì œí’ˆ ì¶”ê°€
                </button>
            </section>

            <!-- Product List -->
            <section class="bg-white rounded-lg shadow-md p-6 mb-8">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ“‹ ì „ì²´ ì œí’ˆ ëª©ë¡</h2>

                <div class="mb-4 flex gap-4">
                    <input type="text" id="searchProduct"
                           class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                           placeholder="ì œí’ˆëª…, íŒ€, ëª¨ë¸ ì½”ë“œë¡œ ê²€ìƒ‰...">
                    <select id="filterProductTeam" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        <option value="">ëª¨ë“  íŒ€</option>
                    </select>
                </div>

                <div id="productListTable" class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-4 py-3 text-left text-sm font-bold text-gray-700">ì´ë¯¸ì§€</th>
                                <th class="px-4 py-3 text-left text-sm font-bold text-gray-700">ì œí’ˆëª…</th>
                                <th class="px-4 py-3 text-left text-sm font-bold text-gray-700">íŒ€</th>
                                <th class="px-4 py-3 text-left text-sm font-bold text-gray-700">ì‹œì¦Œ</th>
                                <th class="px-4 py-3 text-left text-sm font-bold text-gray-700">ë²„ì „</th>
                                <th class="px-4 py-3 text-left text-sm font-bold text-gray-700">ëª¨ë¸ì½”ë“œ</th>
                                <th class="px-4 py-3 text-center text-sm font-bold text-gray-700">íŒë§¤ì²˜</th>
                                <th class="px-4 py-3 text-center text-sm font-bold text-gray-700">ë…¸ì¶œ</th>
                                <th class="px-4 py-3 text-center text-sm font-bold text-gray-700">ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody id="productListBody">
                            <!-- Products will be listed here -->
                        </tbody>
                    </table>
                </div>
            </section>
        </div>

        <!-- Tab Content: íŒë§¤ì²˜ ê´€ë¦¬ -->
        <div id="content-offers" class="tab-content hidden">
            <!-- Product Selection -->
        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ“¦ ì œí’ˆ ì„ íƒ</h2>

            <div class="grid md:grid-cols-3 gap-4 mb-6">
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">íŒ€</label>
                    <select id="adminTeamFilter" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        <option value="">íŒ€ ì„ íƒ</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì‹œì¦Œ</label>
                    <select id="adminSeasonFilter" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        <option value="">ì‹œì¦Œ ì„ íƒ</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">í‚¤íŠ¸ ìœ í˜•</label>
                    <select id="adminKitFilter" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        <option value="">í‚¤íŠ¸ ì„ íƒ</option>
                    </select>
                </div>
            </div>

            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-2">ì œí’ˆ</label>
                <select id="productSelect" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                    <option value="">ì œí’ˆì„ ì„ íƒí•˜ì„¸ìš”</option>
                </select>
            </div>

            <div id="selectedProductInfo" class="hidden mt-4 p-4 bg-gray-50 rounded-lg">
                <div class="flex items-center gap-4">
                    <img id="selectedProductImage" src="" alt="" class="w-24 h-24 object-cover rounded-lg">
                    <div>
                        <p class="font-bold text-lg" id="selectedProductName"></p>
                        <p class="text-sm text-gray-600" id="selectedProductCode"></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Current Exchange Rates -->
        <section class="bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-8">
            <h2 class="text-xl font-bold mb-4 text-blue-900 flex items-center">
                ğŸ’± í˜„ì¬ í™˜ìœ¨ (ì‹¤ì‹œê°„)
                <button id="refreshRates" class="ml-4 text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition">
                    ìƒˆë¡œê³ ì¹¨
                </button>
            </h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="exchangeRates">
                <div class="bg-white p-3 rounded-lg shadow">
                    <p class="text-xs text-gray-600">USD (ë¯¸êµ­ ë‹¬ëŸ¬)</p>
                    <p class="text-lg font-bold text-gray-900" id="rate-USD">ë¡œë”© ì¤‘...</p>
                </div>
                <div class="bg-white p-3 rounded-lg shadow">
                    <p class="text-xs text-gray-600">EUR (ìœ ëŸ½ ìœ ë¡œ)</p>
                    <p class="text-lg font-bold text-gray-900" id="rate-EUR">ë¡œë”© ì¤‘...</p>
                </div>
                <div class="bg-white p-3 rounded-lg shadow">
                    <p class="text-xs text-gray-600">GBP (ì˜êµ­ íŒŒìš´ë“œ)</p>
                    <p class="text-lg font-bold text-gray-900" id="rate-GBP">ë¡œë”© ì¤‘...</p>
                </div>
                <div class="bg-white p-3 rounded-lg shadow">
                    <p class="text-xs text-gray-600">JPY (ì¼ë³¸ 100ì—”)</p>
                    <p class="text-lg font-bold text-gray-900" id="rate-JPY">ë¡œë”© ì¤‘...</p>
                </div>
            </div>
            <p class="text-xs text-gray-600 mt-3">
                * ë„¤ì´ë²„ ì¦ê¶Œ ì‹¤ì‹œê°„ í™˜ìœ¨ ê¸°ì¤€
                <a href="https://m.stock.naver.com/marketindex/home/exchangeRate/exchange#exchange"
                   target="_blank"
                   class="text-blue-600 hover:underline ml-2">
                    (í™˜ìœ¨ í™•ì¸í•˜ê¸° â†’)
                </a>
            </p>
        </section>

        <!-- Offer Management -->
        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸª íŒë§¤ì²˜ ê´€ë¦¬</h2>

            <!-- Add New Offer Form -->
            <div class="bg-green-50 border-2 border-green-200 rounded-lg p-6 mb-6">
                <h3 class="text-lg font-bold mb-4 text-green-900">â• íŒë§¤ì²˜ ì¶”ê°€</h3>

                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">íŒë§¤ì²˜ ì´ë¦„ *</label>
                        <input type="text" id="newSiteName"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                               placeholder="ì˜ˆ: ë‚˜ì´í‚¤ ì½”ë¦¬ì•„">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">í†µí™” *</label>
                        <select id="newCurrency" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            <option value="KRW">KRW (ì›í™”)</option>
                            <option value="USD">USD (ë‹¬ëŸ¬)</option>
                            <option value="EUR">EUR (ìœ ë¡œ)</option>
                            <option value="GBP">GBP (íŒŒìš´ë“œ)</option>
                            <option value="JPY">JPY (ì—”)</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ì •ê°€ *</label>
                        <div class="relative">
                            <input type="number" id="newRegularPrice"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                   placeholder="100000" step="0.01">
                            <span id="regularPriceKRW" class="absolute right-3 top-2 text-xs text-gray-500"></span>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">íŒë§¤ê°€ *</label>
                        <div class="relative">
                            <input type="number" id="newSalePrice"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                   placeholder="80000" step="0.01">
                            <span id="salePriceKRW" class="absolute right-3 top-2 text-xs text-gray-500"></span>
                        </div>
                    </div>

                    <div class="md:col-span-2">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">êµ¬ë§¤ ë§í¬ *</label>
                        <input type="url" id="newAffiliateLink"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                               placeholder="https://www.example.com/product">
                    </div>
                </div>

                <div class="mt-4 p-4 bg-white rounded-lg border border-gray-200">
                    <p class="text-sm font-semibold text-gray-700 mb-2">í• ì¸ìœ¨: <span id="calculatedDiscount" class="text-lg text-red-600">0%</span></p>
                    <p class="text-xs text-gray-500">* í• ì¸ìœ¨ì€ (ì •ê°€ - íŒë§¤ê°€) / ì •ê°€ Ã— 100ìœ¼ë¡œ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤</p>
                </div>

                <button id="addOfferBtn"
                        class="mt-4 w-full bg-green-600 text-white font-bold py-3 rounded-lg hover:bg-green-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed">
                    íŒë§¤ì²˜ ì¶”ê°€
                </button>
            </div>

            <!-- Current Offers List -->
            <div>
                <h3 class="text-lg font-bold mb-4 text-gray-900">ğŸ“‹ í˜„ì¬ íŒë§¤ì²˜ ëª©ë¡</h3>
                <div id="offersList" class="space-y-3">
                    <p class="text-gray-500 text-center py-8">ì œí’ˆì„ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”</p>
                </div>
            </div>
        </section>

            <!-- Save Changes -->
            <section class="bg-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="text-lg font-bold text-gray-900">ë³€ê²½ì‚¬í•­ ì €ì¥</h3>
                        <p class="text-sm text-gray-600">ë³€ê²½ëœ ë‚´ìš©ì„ data.js íŒŒì¼ì— ì €ì¥í•©ë‹ˆë‹¤</p>
                    </div>
                    <button id="saveChangesBtn"
                            class="bg-blue-600 text-white font-bold px-8 py-3 rounded-lg hover:bg-blue-700 transition disabled:bg-gray-400">
                        ğŸ’¾ ì €ì¥í•˜ê¸°
                    </button>
                </div>
            </section>
        </div>

        <!-- Tab Content: ë¸”í”„ ì‚¬ì´íŠ¸ ê´€ë¦¬ -->
        <div id="content-blackfriday" class="tab-content hidden">
            <!-- Black Friday Sites List -->
            <section class="bg-white rounded-lg shadow-md p-6 mb-8">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ”¥ ë¸”í”„ ì„¸ì¼ ì‚¬ì´íŠ¸ ëª©ë¡</h2>

                <div id="blackFridaySitesList" class="space-y-4">
                    <!-- ë¸”í”„ ì‚¬ì´íŠ¸ ì¹´ë“œê°€ ì—¬ê¸°ì— ë Œë”ë§ë©ë‹ˆë‹¤ -->
                </div>
            </section>

            <!-- Save Changes -->
            <section class="bg-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="text-lg font-bold text-gray-900">ë³€ê²½ì‚¬í•­ ì €ì¥</h3>
                        <p class="text-sm text-gray-600">ë³€ê²½ëœ ë‚´ìš©ì„ data.js íŒŒì¼ì— ì €ì¥í•©ë‹ˆë‹¤</p>
                    </div>
                    <button id="saveBFChangesBtn"
                            class="bg-blue-600 text-white font-bold px-8 py-3 rounded-lg hover:bg-blue-700 transition disabled:bg-gray-400">
                        ğŸ’¾ ì €ì¥í•˜ê¸°
                    </button>
                </div>
            </section>
        </div>

        <!-- Tab Content: ê³„ì • ê´€ë¦¬ -->
        <div id="content-account" class="tab-content hidden">
            <!-- Current Account Info -->
            <section class="bg-white rounded-lg shadow-md p-6 mb-8">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ‘¤ í˜„ì¬ ê³„ì • ì •ë³´</h2>
                <div class="bg-gray-50 rounded-lg p-6">
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">ë¡œê·¸ì¸ ì´ë©”ì¼</label>
                            <input type="text" id="currentUsername" readonly
                                   class="w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-700"
                                   value="Firebase ê³„ì •">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">ë§ˆì§€ë§‰ ë¡œê·¸ì¸</label>
                            <input type="text" id="lastLogin" readonly
                                   class="w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-700"
                                   value="-">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Firebase Info -->
            <section class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">ğŸ” ë³´ì•ˆ ì¸ì¦</h2>

                <div class="bg-green-50 border-2 border-green-200 rounded-lg p-6 mb-6">
                    <h3 class="font-bold text-green-900 mb-2">âœ… Firebase Authentication ì ìš©ë¨</h3>
                    <p class="text-sm text-green-800 mb-3">
                        ì´ ì‚¬ì´íŠ¸ëŠ” Google Firebaseë¥¼ í†µí•´ ë³´ì•ˆ ì¸ì¦ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
                    </p>
                    <ul class="text-sm text-green-800 space-y-2">
                        <li>âœ“ ë¹„ë°€ë²ˆí˜¸ê°€ ì†ŒìŠ¤ì½”ë“œì— ë…¸ì¶œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤</li>
                        <li>âœ“ êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ë¡œê·¸ì¸í•©ë‹ˆë‹¤</li>
                        <li>âœ“ í—ˆìš©ëœ ê´€ë¦¬ìë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                        <li>âœ“ ëª¨ë“  ë¸Œë¼ìš°ì €ì™€ ê¸°ê¸°ì—ì„œ ë™ì¼í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤</li>
                    </ul>
                </div>

                <div class="bg-blue-50 border-2 border-blue-200 rounded-lg p-4">
                    <h3 class="font-bold text-blue-900 mb-2">ğŸ“ ê³„ì • ê´€ë¦¬</h3>
                    <p class="text-sm text-blue-800 mb-3">
                        ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ì´ë‚˜ ê³„ì • ê´€ë¦¬ëŠ” Google ê³„ì • ì„¤ì •ì—ì„œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                    <a href="https://myaccount.google.com/security" target="_blank"
                       class="inline-block bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition text-sm">
                        Google ê³„ì • ì„¤ì • ì—´ê¸° â†’
                    </a>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm">Â© 2024 ì˜¤ë§ˆì¹´ì„¸ë¯¸ë£¨ ê´€ë¦¬ì í˜ì´ì§€</p>
        </div>
    </footer>
    </div> <!-- End of mainContent -->

    <!-- Firebase SDK -->
    <script type="module">
        // Firebase imports - Updated to latest version
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js';
        import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js';

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBu7tXrbeWjp3h0Xt_mCTp4oswsuGMSGkw",
            authDomain: "omacasemiro-8fd4c.firebaseapp.com",
            projectId: "omacasemiro-8fd4c",
            storageBucket: "omacasemiro-8fd4c.firebasestorage.app",
            messagingSenderId: "322343249421",
            appId: "1:322343249421:web:de70a69176f468d5d05744"
        };

        // Initialize Firebase
        console.log('ğŸ”µ Firebase ì´ˆê¸°í™” ì‹œì‘...');
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();
        console.log('âœ… Firebase ì´ˆê¸°í™” ì™„ë£Œ');

        // í—ˆìš©ëœ ê´€ë¦¬ì ì´ë©”ì¼ ëª©ë¡
        const ALLOWED_ADMINS = [
            'junsikyoon@gmail.com',
            'wnstlr1590@gmail.com',  // ë©”ì¸ ê´€ë¦¬ì ê³„ì •
        ];

        // ì‚¬ìš©ìê°€ í—ˆìš©ëœ ê´€ë¦¬ìì¸ì§€ í™•ì¸
        function isAllowedAdmin(email) {
            return ALLOWED_ADMINS.includes(email);
        }

        // ë¡œê·¸ì¸ ì„±ê³µ ì²˜ë¦¬
        function handleLoginSuccess(user) {
            document.getElementById('authOverlay').classList.add('hidden');
            document.getElementById('mainContent').classList.remove('admin-content');
            document.getElementById('userEmail').textContent = user.email;
            document.getElementById('userEmail').classList.remove('hidden');
            document.getElementById('logoutBtn').classList.remove('hidden');

            // ë§ˆì§€ë§‰ ë¡œê·¸ì¸ ì‹œê°„ ì €ì¥
            localStorage.setItem('lastLogin', new Date().toLocaleString('ko-KR'));
            updateLoginTime();
        }

        // ë¡œê·¸ì¸ ì‹¤íŒ¨ ì²˜ë¦¬
        function handleLoginError(message) {
            const errorMsg = document.getElementById('authError');
            const loginSection = document.getElementById('loginSection');
            const loadingSection = document.getElementById('loadingSection');

            loadingSection.classList.add('hidden');
            loginSection.classList.remove('hidden');
            errorMsg.textContent = message;
            errorMsg.classList.remove('hidden');
        }

        // êµ¬ê¸€ ë¡œê·¸ì¸ í•¨ìˆ˜ (íŒì—… ë°©ì‹)
        async function handleGoogleLogin(event) {
            event.preventDefault();
            event.stopPropagation();
            event.stopImmediatePropagation();

            console.log('ğŸ”µ Google ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ë¨ (íŒì—… ë°©ì‹)');

            // ë¡œë”© ìƒíƒœ í‘œì‹œ
            const loginSection = document.getElementById('loginSection');
            const loadingSection = document.getElementById('loadingSection');

            loginSection.classList.add('hidden');
            loadingSection.classList.remove('hidden');

            try {
                console.log('ğŸ”µ signInWithPopup ì‹¤í–‰ ì‹œì‘...');
                console.log('ğŸ”µ Provider ì„¤ì •:', provider);

                const result = await signInWithPopup(auth, provider);
                console.log('âœ… signInWithPopup ì„±ê³µ!');
                console.log('âœ… ì‚¬ìš©ì:', result.user.email);

                // í—ˆìš©ëœ ê´€ë¦¬ìì¸ì§€ í™•ì¸
                if (!isAllowedAdmin(result.user.email)) {
                    console.log('ğŸ”´ í—ˆìš©ë˜ì§€ ì•Šì€ ì‚¬ìš©ì:', result.user.email);
                    await signOut(auth);
                    loginSection.classList.remove('hidden');
                    loadingSection.classList.add('hidden');
                    handleLoginError(`ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\nê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.\n(${result.user.email})`);
                } else {
                    console.log('ğŸŸ¢ í—ˆìš©ëœ ì‚¬ìš©ì! ë¡œê·¸ì¸ ì„±ê³µ');
                    // handleLoginSuccessëŠ” onAuthStateChangedì—ì„œ ì²˜ë¦¬ë¨
                }
            } catch (error) {
                console.error('ğŸ”´ ë¡œê·¸ì¸ ì—ëŸ¬:', error);
                console.error('ğŸ”´ ì—ëŸ¬ ì½”ë“œ:', error.code);
                console.error('ğŸ”´ ì—ëŸ¬ ë©”ì‹œì§€:', error.message);
                loginSection.classList.remove('hidden');
                loadingSection.classList.add('hidden');

                if (error.code === 'auth/popup-closed-by-user') {
                    handleLoginError('ë¡œê·¸ì¸ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.');
                } else if (error.code === 'auth/popup-blocked') {
                    handleLoginError('íŒì—…ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.\në¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ íŒì—…ì„ í—ˆìš©í•´ì£¼ì„¸ìš”.');
                } else {
                    handleLoginError('ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\në‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                }
            }

            return false;
        }

        // êµ¬ê¸€ ë¡œê·¸ì¸ ë²„íŠ¼ ì´ë²¤íŠ¸ ë“±ë¡
        document.addEventListener('DOMContentLoaded', () => {
            const googleLoginBtn = document.getElementById('googleLoginBtn');
            if (googleLoginBtn) {
                // ê¸°ì¡´ ì´ë²¤íŠ¸ ì œê±°
                googleLoginBtn.replaceWith(googleLoginBtn.cloneNode(true));
                const newBtn = document.getElementById('googleLoginBtn');

                // ìƒˆ ì´ë²¤íŠ¸ ë“±ë¡
                newBtn.addEventListener('click', handleGoogleLogin, { capture: true });
                console.log('âœ… Google ë¡œê·¸ì¸ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ì™„ë£Œ');
            } else {
                console.error('âŒ googleLoginBtn ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!');
            }
        });

        // íŒì—… ë°©ì‹ì—ì„œëŠ” ë¦¬ë””ë ‰íŠ¸ ì²˜ë¦¬ ë¶ˆí•„ìš”
        console.log('âœ… íŒì—… ë°©ì‹ ë¡œê·¸ì¸ ì‚¬ìš© - ë¦¬ë””ë ‰íŠ¸ ì²˜ë¦¬ ìƒëµ');

        // DOM ë¡œë“œ í›„ ì´ˆê¸°í™”
        function initializeAuth() {
            console.log('ğŸŸ£ initializeAuth ì‹œì‘');

            // ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì´ë²¤íŠ¸
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', async () => {
                    if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        try {
                            console.log('ğŸ”µ ë¡œê·¸ì•„ì›ƒ ì‹œì‘...');
                            await signOut(auth);
                            console.log('âœ… ë¡œê·¸ì•„ì›ƒ ì„±ê³µ');
                            location.reload();
                        } catch (error) {
                            console.error('ğŸ”´ ë¡œê·¸ì•„ì›ƒ ì—ëŸ¬:', error);
                            alert('ë¡œê·¸ì•„ì›ƒì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                        }
                    }
                });
                console.log('âœ… ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì´ë²¤íŠ¸ ë“±ë¡ ì™„ë£Œ');
            }

            // ì¸ì¦ ìƒíƒœ ë³€í™” ê°ì§€
            onAuthStateChanged(auth, (user) => {
                console.log('ğŸŸ£ onAuthStateChanged í˜¸ì¶œë¨, user:', user?.email || 'null');
                if (user && isAllowedAdmin(user.email)) {
                    // ë¡œê·¸ì¸ ìƒíƒœì´ê³  í—ˆìš©ëœ ì‚¬ìš©ì
                    handleLoginSuccess(user);
                } else {
                    // ë¡œê·¸ì•„ì›ƒ ìƒíƒœ ë˜ëŠ” í—ˆìš©ë˜ì§€ ì•Šì€ ì‚¬ìš©ì
                    document.getElementById('authOverlay').classList.remove('hidden');
                    document.getElementById('mainContent').classList.add('admin-content');
                    document.getElementById('userEmail').classList.add('hidden');
                    document.getElementById('logoutBtn').classList.add('hidden');
                }
            });

            console.log('âœ… initializeAuth ì™„ë£Œ');
        }

        // DOMContentLoaded ì´ë²¤íŠ¸ë¡œ ì´ˆê¸°í™”
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeAuth);
        } else {
            // ì´ë¯¸ ë¡œë“œëœ ê²½ìš° ì¦‰ì‹œ ì‹¤í–‰
            initializeAuth();
        }

        // ë§ˆì§€ë§‰ ë¡œê·¸ì¸ ì‹œê°„ ì—…ë°ì´íŠ¸
        function updateLoginTime() {
            const lastLogin = localStorage.getItem('lastLogin');
            const lastLoginEl = document.getElementById('lastLogin');
            if (lastLogin && lastLoginEl) {
                lastLoginEl.value = lastLogin;
            }
        }

        // ê³„ì • ê´€ë¦¬ íƒ­ ê´€ë ¨ í•¨ìˆ˜ë“¤ (Firebase ì¸ì¦ì—ì„œëŠ” ì‚¬ìš© ì•ˆ í•¨)
        function changePassword() {
            alert('Firebase ì¸ì¦ì„ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤.\në¹„ë°€ë²ˆí˜¸ëŠ” Google ê³„ì • ì„¤ì •ì—ì„œ ë³€ê²½í•˜ì„¸ìš”.');
        }

        function resetCredentials() {
            alert('Firebase ì¸ì¦ì„ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤.\nê³„ì • ê´€ë¦¬ëŠ” Google ê³„ì • ì„¤ì •ì—ì„œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
        }

        // ì „ì—­ìœ¼ë¡œ í•¨ìˆ˜ ë…¸ì¶œ (ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì‚¬ìš©)
        window.changePassword = changePassword;
        window.resetCredentials = resetCredentials;
    </script>

    <script src="js/data.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>
